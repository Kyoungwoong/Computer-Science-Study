# 운영체제와 컴퓨터

## 운영체제의 역할과 구조

### 운영체제의 역할

1. CPU 스케줄링과 프로세스 관리
    
    CPU 소유권을 어떤 프로세스에 할당할지, 프로세스의 ㅅ애성과 삭제, 자원 할당 및 반환을 관리한다.

2. 메모리 관리

    한정된 메모리를 어떤 프로세스에 얼만큼 할당해야 하는지 관리

3. 디스크 파일 관리

    디스크 파일을 어떠한 방법으로 보관할지 관리

4. I/O 디바이스 관리

    I/O 디바이스들 간에 데이터를 주고 받는 것을 관리

### 운영체제의 구조

운영체제는 GUI, 시스템콜, 커널, 드라이버 부분을 지칭한다.

- 시스템 콜
  
    시스템콜 이란 운영체제가 커널에 접근하기 위한 인터페이스이며 유저 프로그램이 운영체제의 서비스를 받기 위해 커털 함수를 호출할 때 사용

## 컴퓨터의 요소

컴퓨터는 CPU, DMA 컨트롤러, 메모리, 타이머, 디바이스 컨트롤러 등으로 구성

### CPU

CPU는 산술논리연산장치, 제어장치, 레지스터로 구성되어 있는 컴퓨터 장치를 말하며, 인터럽트에 의해 단순히 메모리에 존재하는 명령어를 해석해서 실행

### 제어장치

프로세스 조작을 지시하는 CPU의 부품으로, 명령어들을 읽고 해석하며 데이터 처리를 위한 순서를 결정

### 레지스터

CPU 안에 있는 매우 빠른 임시기억장치로, CPU와 직접 연결되어 있으므로 연산 속도가 빠름

CPU는 자체적으로 데이터를 저장할 방법이 없어서 레지스터를 거쳐 데이터를 전달

### 산술논리연산장치

ALU는 덧셈, 뺄셈과 같은 두 숫자의 산술 연산과 배타적 논리합, 논리곱 같은 논리 연산을 계산하는 디지털 회로

# 메모리

## 메모리 계층 

메모리 계층은 레지스터, 캐시, 메모리, 저장장치로 구성

- 레지스터
  
    CPU안에 있는 작은 메모리

    휘발성, 빠른 속도, 작은 용량

- 캐시

    L1, L2 캐시를 지칭

    휘발성, 빠른 속도, 적은 용량

- 주기억장치

    RAM

    휘발성, 보통 속도, 보통 용량 

- 보조기억장치

    HDD, SSD를 지칭

    비휘발성, 낮은 속도, 큰 용량

# 프로세스와 스레드

프로세스는 컴퓨터에서 실행되고 있는 프로그램을 말하며, CPU 스케줄링의 대상이 되는 작업이라는 용어와 거의 같은 의미로 쓰임

스레드는 프로세스 내에서의 작업의 흐름을 지칭

## 프로세스와 컴파일

프로세스는 프로그램이 메모리에 올라가 인스턴스화된 것을 의미

## 프로세스의 상태

### 생성

생성 상태는 프로세스가 생성된 상태를 의미

fork() 또는 exec() 함수를 통해 생성

### 대기

메모리 공간이 충분하면 메모리를 할당받고 아니면 대기

### 대기 중단

메모리 부족으로 일시 중단된 상태

### 실행

CPU 소유권과 메모리를 할당받고 인스트럭션을 수행 중인 상태

### 중단

어떤 이벤트가 발생한 이후 기다리며 프로세스가 차단된 상태

I/O 디바이스에 의한 인터럽트로 많이 발생

### 일시 중단

중단된 상태에서 프로세스가 실행되려고 했지만 메모리 부족으로 일시 중단된 상태

### 종료 상태

메모리와 CPU 소유권을 모두 놓고 가는 상태

## PCB

Process Control Block은 운영체제에서 프로세스에 대한 메타데이터를 저장한 데이터를 뜻함

- 프로세스 스케줄링 상태

    '준비', '일시중단' 등 프로세스가 CPU에 대한 소유권을 얻은 이후의 상태

- 프로세스 ID

    프로세스 ID, 해당 프로세스의 자식 프로세스 ID

- 프로세스 권한

    컴퓨터 자원 또는 I/O 디바이스에 대한 권한 정보

- 프로그램 카운터

    프로세스에서 실행해야 할 다음 명령어의 주소에 대한 포인터

- CPU 레지스터

    프로세스를 실행하기 위해 저장해야 할 레지스터에 대한 정보

- CPU 스케줄링 정보

    CPU 스케줄러에 의해 중단된 시간 등에 대한 정보

- 계정 정보

    프로세스 실행에 사용된 CPU 사용량, 실행한 유저의 정보

### 컨텍스트 스위칭

PCB를 기반으로 프로세스의 상태를 저장하고 로드시키는 과정을 말함

한 프로세스에 할당된 시간이 끝나거나 인터럽트에 의해 발생